(this.webpackJsonpriv=this.webpackJsonpriv||[]).push([[0],{176:function(t,e,n){"use strict";n.r(e);var r,c=n(0),a=n.n(c),i=n(52),u=n.n(i),o=(n(149),n(76)),s=n(10),l=n(37),j=n(28),d=n(177),h=n(188),b=n(187),p=n(6),f=["/r","/u"].map((function(t){return{key:t,value:t,text:t}})),g=j.a.div({paddingTop:50,paddingBottom:50,display:"flex",flexWrap:"wrap",justifyContent:"center"}),O=Object(j.a)(h.a)({}),x=Object(j.a)(b.a)({width:400,marginRight:20}),m=j.a.span({marginLeft:20}),v=Object(j.a)(d.a.Group)({}),A=function(t){var e=Object(c.useState)(t.isUser),n=Object(l.a)(e,2),r=n[0],a=n[1],i=Object(c.useState)(t.searchText),u=Object(l.a)(i,2),o=u[0],j=u[1],h=Object(c.useState)(t.count),b=Object(l.a)(h,2),A=b[0],L=b[1],k=Object(p.jsx)(O,{options:f,value:r?"/u":"/r",onChange:function(t,e){return a("/u"===e.value)}}),w=Object(s.g)();return Object(p.jsxs)(g,{children:[Object(p.jsx)(x,{label:k,value:o,onChange:function(t,e){return j(e.value)}}),Object(p.jsx)(v,{children:[10,25,50].map((function(t,e){return Object(p.jsx)(d.a,{color:t===A?"teal":"grey",onClick:function(){return L(t)},children:t},e)}))}),Object(p.jsx)(m,{children:Object(p.jsx)(d.a,{color:"teal",onClick:function(){w.push("/search?".concat(r?"u":"r","=").concat(o,"&n=").concat(A))},children:"Fetch Images"})})]})},L=n(79),k=n.n(L),w=n(189),y=n(57),C=n(132),E=function(t){return t.includes("jpg")||t.includes("jpeg")||t.includes("png")},I=function(t){var e=Object(s.g)(),n=function(t){return t.includes("imgur.com")&&!E(t)}(t.url);if(!n&&!E(t.url))return null;var r=function(t){return t.includes("i.imgur.com")?t:t.includes("imgur.com")?t.replace("imgur.com","i.imgur.com"):t}(t.url);return Object(p.jsx)(M,{children:Object(p.jsxs)(w.a,{fluid:!0,children:[Object(p.jsx)(w.a.Content,{textAlign:"center",children:Object(p.jsxs)(w.a.Header,{children:[t.title,"\xa0\xa0\xa0",Object(p.jsx)("a",{href:"https://reddit.com"+t.redditLink,target:"_blank",title:"View On Reddit",children:Object(p.jsx)(y.a,{name:"reddit",size:"big",color:"red"})})]})}),n?Object(p.jsx)(G,{url:t.url}):Object(p.jsx)(C.a,{src:r,href:r,target:"_blank"}),Object(p.jsx)(w.a.Content,{textAlign:"center",extra:!0,children:Object(p.jsx)(w.a.Header,{title:"View Posts By User",children:Object(p.jsx)(d.a,{content:t.author,icon:"history",color:"teal",size:"big",onClick:function(n){return r=t.author,void e.push("/search?u=".concat(r));var r},labelPosition:"right"})})})]})})};!function(t){t[t.IMAGE=0]="IMAGE",t[t.GALLERY=1]="GALLERY",t[t.ALBUM=2]="ALBUM"}(r||(r={}));var G=function(t){var e,n=(e=t.url).includes("/a/")?r.ALBUM:e.includes("/gallery/")?r.GALLERY:r.IMAGE,c=a.a.useState([]),i=Object(l.a)(c,2),u=i[0],o=i[1];return a.a.useEffect((function(){if(n===r.IMAGE&&o([t.url.concat(".jpg")]),n===r.GALLERY){var e=t.url.split("/").pop();k.a.get("https://api.imgur.com/3/gallery/album/".concat(e),{headers:{Authorization:"Client-ID 7e1e88a33aed31d"}}).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))}if(n===r.ALBUM){var c=t.url.split("/").pop();k.a.get("https://api.imgur.com/3/album/".concat(c,"/images"),{headers:{Authorization:"Client-ID 7e1e88a33aed31d"}}).then((function(t){return t.data.data})).then((function(t){return o(t.map((function(t){return t.link})))})).catch((function(t){return console.log(t)}))}}),[]),Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{children:["imgur post - ",Object(p.jsx)("a",{href:t.url,target:"_blank",children:t.url})]}),u.map((function(t){return Object(p.jsx)(C.a,{src:t,href:t,target:"_blank"})}))]})},M=j.a.div({maxWidth:640,padding:20}),U=j.a.div({display:"flex",flexWrap:"wrap",alignItems:"flex-start",alignContent:"space-between",justifyContent:"center"}),B=function(t){return Object(p.jsx)(U,{children:t.posts.map((function(t){return Object(p.jsx)(I,{url:t.url,title:t.title,author:t.author,redditLink:"https://reddit.com".concat(t.permalink)})}))})},R=function(){var t=function(){for(var t=new URLSearchParams(Object(s.h)().search),e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map((function(e){return t.get(e)}))}("r","u","n"),e=Object(l.a)(t,3),n=e[0],r=e[1],a=e[2],i=Object(c.useState)({posts:[],page:1}),u=Object(l.a)(i,2),o=u[0],j=u[1],d=10;a&&(d=parseInt(a)),console.log(n,r,d);var h=null!==n;return Object(c.useEffect)((function(){h&&n&&k.a.get("https://www.reddit.com/r/".concat(n,".json?limit=").concat(d)).then((function(t){return t.data.data.children.map((function(t){return t.data}))})).then((function(t){return console.log("$$$$",t),t})).then((function(t){return t.filter((function(t){return"image"===t.post_hint||"link"===t.post_hint}))})).then((function(t){return j({posts:t,page:1})})).catch((function(t){return console.log(t)}))}),[n,r]),Object(p.jsxs)(S,{children:[Object(p.jsx)(A,{isUser:!h,searchText:n||"",count:d}),Object(p.jsx)(B,{posts:o.posts})]})},S=j.a.div({}),_=function(){return Object(p.jsx)(o.a,{children:Object(p.jsxs)(s.d,{children:[Object(p.jsx)(s.b,{path:"/search",children:Object(p.jsx)(R,{})}),Object(p.jsx)(s.b,{path:"*",children:Object(p.jsx)(s.a,{to:"/search?r=aww&n=20"})})]})})};u.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(_,{})}),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.a43d0c67.chunk.js.map